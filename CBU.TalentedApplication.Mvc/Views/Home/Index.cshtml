@model BranchApplicantList


@{
    ViewData["Title"] = "Home Page";
    
}



<h1 style="color:chocolate">Özel Yetenek Programı</h1>

<div class="mb-5">
    <h3 style="color:aliceblue">Hoş Geldin,@ViewBag.FullName</h3>
</div>


@if (TempData["ErrorMessage"] != null)
{
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
        @TempData["ErrorMessage"]
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
}
@if (TempData["SuccessMessage"] != null)
{
    <div class="alert alert-success alert-dismissible fade show" role="alert">
        @TempData["SuccessMessage"]
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
}

<div calss="container " style="margin:15px;">
    <h3 style=" color:chocolate;">Yeni Başvuru</h3>

    <h4 style="color:aliceblue">Branş seçiniz:</h4>
    <form asp-controller="Home" asp-action="Criterias" method="post" style="width: 50%;">

        <select style="background-color:aliceblue" id="branch" name="branchId">
            @foreach (var branch in Model.branches.Where(x => !Model.applicants.Any(a => a.BranchId == x.Id)))
            {
                <option value="@branch.Id">@branch.Name</option>

            }
        </select>

        <button type="submit" style="padding: 10px; margin-top: 10px; background-color: #E0E0E0; border: none; border-radius: 5px; font-size: 16px; color: #333; cursor: pointer;">Sonraki</button>

    </form>

</div>    
    <div class="container mt-4">
        <div class="card ">
        <div class="card-header text-chocolate fw-bold bg-purple" style="font-size:25px;">
                Mevcut Başvurularım
            </div>
            <div class="card-body">
                <table class="table table-striped table-bordered">
                    <thead class="thead-dark">
                        <tr>
                            <th scope="col">Branş</th>
                            <th scope="col">durum</th>
                            <th scope="col">score</th>
                            <th scope="col">işlem</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Example row: Repeat this block for each application record -->                       
                        @foreach(var applicant in Model.applicants)
                        {
                            <tr>
                            <td>@applicant.branchName</td>
                            <td>@(applicant.finalscore.HasValue ? "değerlendirildi" : "Henüz değerlendirilmedi")</td>
                            <td>@applicant.finalscore</td>
                                <td>
                                    <!-- Example action buttons -->
                                    <button class="btn btn-info btn-sm">
                                        <a href="@Url.Action("Criterias", "Home",applicant)" class="btn btn-info btn-sm">View</a>
                                    </button>
                                    <button class="btn btn-danger btn-sm">
                                    <a href="@Url.Action("DeleteApplicant", "Home",new { applicantId = applicant.Id })" class="btn btn-danger btn-sm">Delete</a>
                                    </button>
                                </td>
                            </tr>
                        }
                       
                        <!-- Add more rows as needed -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>
